<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Preparing to run the container image</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Katzenpost Administrator's Guide"><link rel="up" href="ch02.html" title="Chapter&nbsp;2.&nbsp;Using the EchoMix Docker test network"><link rel="prev" href="ch02.html" title="Chapter&nbsp;2.&nbsp;Using the EchoMix Docker test network"><link rel="next" href="ch02s03.html" title="Operating the test mixnet"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="install_kp"></a>Preparing to run the container image</h2></div></div></div><p>Complete the following procedure to obtain, build, and deploy the EchoMix test
            network. </p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Install the EchoMix code repository, hosted at <a class="link" href="https://github.com/katzenpost" target="_top">https://github.com/katzenpost</a>. The main EchoMix
                    repository contains code for the server components as well as the docker image.
                    Clone the repository with the following command (your directory location may
                    vary):</p><pre class="programlisting"><code class="prompt">~$ </code><span class="command"><strong>git clone https://github.com/katzenpost/katzenpost.git</strong></span></pre></li><li class="step"><p>Navigate to the new <code class="filename">katzenpost</code> subdirectory and
                    ensure that the code is up to date.
                    </p><pre class="programlisting"><code class="prompt">~$ </code><span class="command"><strong>cd katzenpost</strong></span>
                        <code class="prompt">~/katzenpost$ </code><span class="command"><strong>git checkout main</strong></span>
                        <code class="prompt">~/katzenpost$ </code><span class="command"><strong>git pull</strong></span></pre></li><li class="step"><p>(Optional) Create a development branch and check it
                    out.</p><pre class="programlisting"><code class="prompt">~/katzenpost$ </code><span class="command"><strong>git checkout -b devel</strong></span></pre></li><li class="step"><p>(Optional) If you are using Podman, complete the following steps:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Point the DOCKER_HOST environment variable at the Podman
                            process.</p><pre class="programlisting"><code class="prompt">$ </code><span class="command"><strong>export DOCKER_HOST=unix:///var/run/user/$(id -u)/podman/podman.sock</strong></span></pre></li><li class="step"><p> Set up and start the Podman server (as superuser).</p><pre class="programlisting"><code class="prompt">$ </code><span class="command"><strong>podman system service -t 0 $DOCKER_HOST &amp;</strong></span>
                            <code class="prompt">$ </code><span class="command"><strong>systemctl --user enable --now podman.socket</strong></span>
                        </pre></li></ol></div></li></ol></div></div></body></html>